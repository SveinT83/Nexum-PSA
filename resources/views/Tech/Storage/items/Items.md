# tech.storage.items\* — General Documentation

**Creation date:** 2025-10-29  
 **URL:** `tech.storage.items.*`  
 **Access levels:** `inventory.view`, `inventory.manage`, `tech.view`  
 **Controller path:** `App\Http\Controllers\Tech\Storage\Items\*`  
 **Status:** Not started  
 **Difficulty:** Medium  
 **Estimated time:** 6.0 hours

---

## Purpose

The *Items* system represents all products, parts, and materials stored in the organization’s warehouses or boxes. Each item record defines a product type (not individual units) and holds pricing, vendor, and stock information. Items can be linked to one or multiple warehouses or boxes, and quantities can be transferred between them.

This module enables:

- Centralized product and stock management.
- Tracking of reserved vs. available quantities.
- Vendor association and pricing calculation with markup and VAT handling.
- Visual indicators for items below reorder level or over-reserved.

---

## Core Data Model

**Item**

- id (autogenerated)
- name
- short_description
- long_description
- category_id
- vendor (manufacturer)
- vendor_item_number
- ean_number
- purchase_price
- markup_percent
- sale_price (auto-calculated)
- vat_rate (from system settings)
- has_serials (boolean — triggers serial input modal during sale)
- reorder_point (minimum stock level)
- target_level (desired stock level)
- lead_time_days (vendor delivery time)
- moq (minimum order quantity)
- location (warehouse_id / box_id)
- status (active, inactive)

**Stock handling fields:**

- on_hand (current count)
- reserved (sum of active reservations)
- available = on_hand − reserved

---

## Behavior & Rules

- Items are **always** tied to a warehouse and/or box.
- Moving a box between warehouses automatically moves all items linked to it.
- When an order reserves more items than available, they are **flagged as pending restock**.
- Such items appear in the **“Should Reorder” list**, not as auto-generated purchase requests.
- The main list view supports filtering and sorting by:
  - Low stock / below reorder point
  - Over-reserved items
  - Vendor / category
  - Active vs. inactive

---

## Serial Number Handling

If `has_serials = true`, the system does not track serial numbers at warehouse level. Instead:

- Serial input is required **upon picking or selling** an item.
- During sale or order fulfillment, a modal requests n serial numbers equal to the quantity sold.
- When the sale converts to a **Client Asset**, serials are stored there for long-term tracking.

---

## Reorder & Purchase Suggestions

In the main view, all items show reorder indicators:

- **Reorder Point** (min stock)
- **Target Level** (desired quantity)
- **Suggested Order Qty = Target − On Hand + Over-Reservations**
- **Vendor & Lead Time** for planning
- **MOQ** (rounds up to nearest package size)

A special view filter highlights all items that meet reorder criteria, forming the **procurement list**.

---

## Logging

All movements, edits, and transfers are logged with timestamp, user, and location context:

- Stock changes (add/remove)
- Warehouse/box transfer
- Price or vendor updates
- Reservation adjustments

---

## UI & Layout (Bootstrap)

**Regions:** Top header / Main section / Right slim sidebar.

### Header

- Title: *Items*
- Buttons: `+ Add Item`, `Transfer`, `Import`, `Export`, `Recalculate Prices`

### Main list table

Columns:

- Item name (click → details)
- Category
- Vendor
- On hand / Reserved / Available
- Reorder point / Target level
- Suggested order qty
- Vendor lead time
- Status icon (Active / Inactive / Over-reserved / Needs reorder)

### Sidebar (Right Panel)

- Filters: Warehouse, Box, Vendor, Category, Status
- Toggle: *Show only reorder items*
- Quick stats: Total items, Reserved value, Reorder value

---

## Notes

- The list should support real-time stock updates.
- Quantities can be manually adjusted only by users with `inventory.manage`.
- Full audit trail required for all inventory changes.

---

**End of Document**